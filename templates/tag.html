{% extends 'base.html' %}
"
{% block title %}tag profile: &ldquo;{{ tag.tag }}&rdquo; | ytdc{% endblock %}

{% block content %}

<div class="container">
  <div class="row" id="tag-row1">
    <h1>
      &ldquo;{{ tag.tag }}&rdquo;
    </h1>
  </div>
  <div class="row" id="tag-row2">
    {% if videos_in_db == 1 %}
      There is only one video tagged with &ldquo;{{ tag.tag }}&rdquo; in the ytdc database.
    {% else %}
      There are {{ '{:,}'.format(videos_in_db) }} videos tagged with &ldquo;{{ tag.tag }}&rdquo; in the ytdc database.
    {% endif %}
  </div>

  <div class="row" id="tag-row4">
    <div class="col" id="tag-row4-col1">
      <canvas></canvas>      
    </div>
    <div class="col" id="tag-row4-col2">
      <canvas></canvas>    
    </div>
  </div>
  
  <div class="row" id="tag-row5">
    <h2>
      {% if videos_in_db == 1 %}
        the only video that uses this tag
        <br>
        <span style="font-size: 12px;">
          (in our database at least)
        </span>
      {% else %}
        some random videos that use this tag
      {% endif %}
    </h2>
  </div>

  <div class="row" id="tag-row6">

    {% for video in random_videos %}
      <div class="col-sm-6 col-md-4 col-lg-3">
        <div class="card">
          <a href="/explore/videos/{{ video.video_id }}">
            <img class="card-img-top" src="{{ video.thumbnail_url }}" alt="">
          </a>
          <div class="card-body">
            <p class="card-text">
              <span>                
                <a href="/explore/videos/{{ video.video_id }}">
                  {{ video.video_title.lower() }}
                </a>
                <span class="badge">
                  {% if video.is_monetized == False %}
                    <span class="badge badge-danger">
                      demonetized
                    </span>
                  {% else %}
                    <span class="badge badge-success">
                      monetized
                    </span>
                  {% endif %}
                </span>
              </span>
            </p>
          </div>
          <!-- /.card -->
        </div>
      </div>     
    {% endfor %}

  </div>  

</div>

</div>

{% endblock %}