{% extends 'base.html' %}

{% block title %}Tag profile: "{{ tag.tag }}"{% endblock %}

{% block content %}

<div class="container">
  <div class="row" id="tag-row1">
    <h1>
      {{ tag.tag }}
    </h1>
  </div>
  <div class="row" id="tag-row2">
    Videos tagged with &ldquo;{{ tag.tag }}&rdquo; in the YTD database: {{ videos_in_db }}
  </div>

  <div class="row" id="tag-row4">
    <div class="col" id="tag-row4-col1">
      <canvas></canvas>      
    </div>
    <div class="col" id="tag-row4-col2">
      <canvas></canvas>    
    </div>
  </div>
  
  <div class="row" id="tag-row5">
    <h3>
      {% if videos_in_db == 1 %}
        The only video that uses this tag
        <br>
        <span style="font-size: 12px;">(in our database at least)</span>
      {% else %}
        Some random videos that use this tag
      {% endif %}
    </h3>
  </div>

  <div class="row" id="tag-row6">

    {% for video in random_videos %}
      <div class="col-3">
        <figure class="figure">
          <a href="/explore/videos/{{ video.video_id }}">
            <img src="{{ video.thumbnail_url }}" class="figure-img img-fluid rounded" alt="">
          </a>
          <a href="/explore/videos/{{ video.video_id }}">
            <figcaption>
              {{ video.video_title }}
            </figcaption>
          </a>
        </figure>
        <br>
        <div class="button-container">
          {% if video.is_monetized == False %}
            <button type="button" class="btn btn-secondary btn-sm">Not monetized</button>
          {% else %}
            <button type="button" class="btn btn-primary btn-sm">Monetized</button>
          {% endif %}
        </div>
      </div>
    {% endfor %}

  </div>  

</div>

</div>

{% endblock %}